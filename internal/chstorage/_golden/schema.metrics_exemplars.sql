CREATE TABLE IF NOT EXISTS `metrics_exemplars`
(
	`name`                                               LowCardinality(String),
	`name_normalized`                                    LowCardinality(String),
	`timestamp`                                          DateTime64(9)          CODEC(Delta, ZSTD(1)),
	`filtered_attributes`                                String,
	`exemplar_timestamp`                                 DateTime64(9)          CODEC(Delta, ZSTD(1)),
	`value`                                              Float64,
	`trace_id`                                           FixedString(16),
	`span_id`                                            FixedString(8),
	-- attribute attributes
	`attribute`                                          LowCardinality(String),
	`attr_http_response_status_code`                     Int64,
	`attr_thread_id`                                     Int64,
	`attr_http_response_body_size`                       Int64,
	`attr_messaging_rocketmq_message_delay_time_level`   Int64,
	`attr_http_request_body_size`                        Int64,
	`attr_message_compressed_size`                       Int64,
	`attr_host_cpu_cache_l2_size`                        Int64,
	`attr_code_column`                                   Int64,
	`attr_db_redis_database_index`                       Int64,
	`attr_db_cosmosdb_request_content_length`            Int64,
	`attr_process_pid`                                   Int64,
	`attr_code_lineno`                                   Int64,
	`attr_db_cassandra_page_size`                        Int64,
	`attr_messaging_rocketmq_message_delivery_timestamp` Int64,
	`attr_db_cassandra_speculative_execution_count`      Int64,
	`attr_message_id`                                    Int64,
	`attr_db_cosmosdb_status_code`                       Int64,
	`attr_messaging_batch_message_count`                 Int64,
	`attr_faas_max_memory`                               Int64,
	`attr_messaging_kafka_destination_partition`         Int64,
	`attr_messaging_kafka_message_offset`                Int64,
	`attr_gcp_cloud_run_job_task_index`                  Int64,
	`attr_k8s_container_restart_count`                   Int64,
	`attr_process_parent_pid`                            Int64,
	`attr_host_cpu_stepping`                             Int64,
	`attr_db_cosmosdb_sub_status_code`                   Int64,
	`attr_rpc_jsonrpc_error_code`                        Int64,
	`attr_system_cpu_logical_number`                     Int64,
	`attr_http_request_resend_count`                     Int64,
	`attr_message_uncompressed_size`                     Int64,
	`attr_messaging_message_envelope_size`               Int64,
	`attr_messaging_message_body_size`                   Int64,
	`attr_db_jdbc_driver_classname`                      String,
	`attr_exception_stacktrace`                          String,
	`attr_rpc_system`                                    String,
	`attr_session_previous_id`                           String,
	`attr_http_request_method_original`                  String,
	`attr_messaging_message_id`                          String,
	`attr_messaging_gcp_pubsub_message_ordering_key`     String,
	`attr_rpc_service`                                   String,
	`attr_tls_client_not_before`                         String,
	`attr_host_image_name`                               String,
	`attr_session_id`                                    String,
	`attr_network_connection_subtype`                    String,
	`attr_messaging_destination_publish_name`            String,
	`attr_log_record_uid`                                String,
	`attr_k8s_statefulset_name`                          String,
	`attr_jvm_buffer_pool_name`                          String,
	`attr_host_cpu_model_name`                           String,
	`attr_feature_flag_key`                              String,
	`attr_aws_ecs_task_family`                           String,
	`attr_cloud_provider`                                String,
	`attr_service_version`                               String,
	`attr_heroku_release_commit`                         String,
	`attr_enduser_id`                                    String,
	`attr_destination_address`                           String,
	`attr_db_cosmosdb_client_id`                         String,
	`attr_network_carrier_icc`                           String,
	`attr_faas_invoked_region`                           String,
	`attr_otel_scope_version`                            String,
	`attr_tls_client_ja3`                                String,
	`attr_tls_server_not_before`                         String,
	`attr_cloud_region`                                  String,
	`attr_host_image_version`                            String,
	`attr_telemetry_sdk_language`                        String,
	`attr_device_model_name`                             String,
	`attr_host_name`                                     String,
	`attr_container_image_id`                            String,
	`attr_exception_type`                                String,
	`attr_k8s_node_name`                                 String,
	`attr_source_address`                                String,
	`attr_system_processes_status`                       String,
	`attr_device_id`                                     String,
	`attr_db_cassandra_coordinator_dc`                   String,
	`attr_host_type`                                     String,
	`attr_cloud_account_id`                              String,
	`attr_os_build_id`                                   String,
	`attr_tls_curve`                                     String,
	`attr_k8s_container_name`                            String,
	`attr_network_type`                                  String,
	`attr_deployment_environment`                        String,
	`attr_webengine_description`                         String,
	`attr_messaging_system`                              String,
	`attr_aws_ecs_container_arn`                         String,
	`attr_log_file_path`                                 String,
	`attr_log_file_name_resolved`                        String,
	`attr_faas_name`                                     String,
	`attr_aws_eks_cluster_arn`                           String,
	`attr_tls_server_subject`                            String,
	`attr_process_command_line`                          String,
	`attr_tls_server_hash_md5`                           String,
	`attr_db_name`                                       String,
	`attr_faas_version`                                  String,
	`attr_os_name`                                       String,
	`attr_db_instance_id`                                String,
	`attr_host_image_id`                                 String,
	`attr_k8s_cluster_name`                              String,
	`attr_faas_invoked_provider`                         String,
	`attr_url_fragment`                                  String,
	`attr_cloud_resource_id`                             String,
	`attr_system_memory_state`                           String,
	`attr_network_protocol_version`                      String,
	`attr_host_id`                                       String,
	`attr_db_cassandra_table`                            String,
	`attr_network_connection_type`                       String,
	`attr_tls_client_server_name`                        String,
	`attr_faas_cron`                                     String,
	`attr_process_runtime_description`                   String,
	`attr_k8s_namespace_name`                            String,
	`attr_code_filepath`                                 String,
	`attr_event_name`                                    String,
	`attr_tls_client_issuer`                             String,
	`attr_db_mongodb_collection`                         String,
	`attr_jvm_gc_name`                                   String,
	`attr_tls_server_certificate`                        String,
	`attr_network_carrier_name`                          String,
	`attr_container_id`                                  String,
	`attr_aws_ecs_cluster_arn`                           String,
	`attr_url_scheme`                                    String,
	`attr_process_owner`                                 String,
	`attr_error_type`                                    String,
	`attr_network_transport`                             String,
	`attr_cloudevents_event_id`                          String,
	`attr_db_mssql_instance_name`                        String,
	`attr_code_function`                                 String,
	`attr_tls_server_issuer`                             String,
	`attr_cloudevents_event_subject`                     String,
	`attr_tls_client_subject`                            String,
	`attr_system_filesystem_type`                        String,
	`attr_device_model_identifier`                       String,
	`attr_client_address`                                String,
	`attr_messaging_rocketmq_message_group`              String,
	`attr_cloudevents_event_type`                        String,
	`attr_process_command`                               String,
	`attr_k8s_daemonset_name`                            String,
	`attr_db_cosmosdb_container`                         String,
	`attr_service_namespace`                             String,
	`attr_k8s_deployment_name`                           String,
	`attr_device_manufacturer`                           String,
	`attr_k8s_job_name`                                  String,
	`attr_code_namespace`                                String,
	`attr_messaging_kafka_consumer_group`                String,
	`attr_peer_service`                                  String,
	`attr_faas_document_name`                            String,
	`attr_messaging_client_id`                           String,
	`attr_network_protocol_name`                         String,
	`attr_faas_invocation_id`                            String,
	`attr_rpc_jsonrpc_version`                           String,
	`attr_oci_manifest_digest`                           String,
	`attr_service_instance_id`                           String,
	`attr_tls_server_hash_sha256`                        String,
	`attr_db_cassandra_coordinator_id`                   String,
	`attr_telemetry_sdk_version`                         String,
	`attr_gcp_cloud_run_job_execution`                   String,
	`attr_db_elasticsearch_node_name`                    String,
	`attr_process_runtime_version`                       String,
	`attr_os_type`                                       String,
	`attr_aws_ecs_task_revision`                         String,
	`attr_otel_status_description`                       String,
	`attr_tls_client_hash_sha256`                        String,
	`attr_system_filesystem_mode`                        String,
	`attr_jvm_gc_action`                                 String,
	`attr_db_system`                                     String,
	`attr_network_carrier_mnc`                           String,
	`attr_telemetry_distro_version`                      String,
	`attr_browser_platform`                              String,
	`attr_tls_protocol_name`                             String,
	`attr_process_runtime_name`                          String,
	`attr_aws_lambda_invoked_arn`                        String,
	`attr_url_path`                                      String,
	`attr_tls_client_hash_md5`                           String,
	`attr_aws_ecs_task_arn`                              String,
	`attr_pool_name`                                     String,
	`attr_tls_server_hash_sha1`                          String,
	`attr_tls_client_hash_sha1`                          String,
	`attr_thread_name`                                   String,
	`attr_db_connection_string`                          String,
	`attr_network_carrier_mcc`                           String,
	`attr_faas_instance`                                 String,
	`attr_container_image_name`                          String,
	`attr_faas_document_collection`                      String,
	`attr_code_stacktrace`                               String,
	`attr_tls_server_not_after`                          String,
	`attr_tls_cipher`                                    String,
	`attr_server_address`                                String,
	`attr_telemetry_sdk_name`                            String,
	`attr_tls_server_ja3s`                               String,
	`attr_os_description`                                String,
	`attr_process_executable_name`                       String,
	`attr_messaging_rocketmq_namespace`                  String,
	`attr_tls_protocol_version`                          String,
	`attr_jvm_memory_pool_name`                          String,
	`attr_messaging_rocketmq_message_tag`                String,
	`attr_otel_scope_name`                               String,
	`attr_cloudevents_event_spec_version`                String,
	`attr_container_name`                                String,
	`attr_heroku_app_id`                                 String,
	`attr_feature_flag_provider_name`                    String,
	`attr_container_command`                             String,
	`attr_cloud_availability_zone`                       String,
	`attr_messaging_message_conversation_id`             String,
	`attr_tls_client_certificate`                        String,
	`attr_feature_flag_variant`                          String,
	`attr_host_cpu_family`                               String,
	`attr_url_full`                                      String,
	`attr_db_operation`                                  String,
	`attr_gcp_gce_instance_hostname`                     String,
	`attr_process_executable_path`                       String,
	`attr_http_request_method`                           String,
	`attr_k8s_pod_name`                                  String,
	`attr_log_file_path_resolved`                        String,
	`attr_log_file_name`                                 String,
	`attr_rpc_jsonrpc_request_id`                        String,
	`attr_k8s_replicaset_name`                           String,
	`attr_url_query`                                     String,
	`attr_enduser_scope`                                 String,
	`attr_webengine_version`                             String,
	`attr_messaging_rocketmq_client_group`               String,
	`attr_user_agent_original`                           String,
	`attr_k8s_cronjob_name`                              String,
	`attr_rpc_method`                                    String,
	`attr_system_cpu_state`                              String,
	`attr_faas_invoked_name`                             String,
	`attr_faas_document_operation`                       String,
	`attr_os_version`                                    String,
	`attr_host_arch`                                     String,
	`attr_telemetry_distro_name`                         String,
	`attr_messaging_kafka_message_key`                   String,
	`attr_messaging_destination_template`                String,
	`attr_db_cosmosdb_operation_type`                    String,
	`attr_tls_next_protocol`                             String,
	`attr_messaging_destination_name`                    String,
	`attr_network_peer_address`                          String,
	`attr_cloudevents_event_source`                      String,
	`attr_network_local_address`                         String,
	`attr_android_os_api_level`                          String,
	`attr_service_name`                                  String,
	`attr_messaging_rabbitmq_destination_routing_key`    String,
	`attr_gcp_gce_instance_name`                         String,
	`attr_db_sql_table`                                  String,
	`attr_heroku_release_creation_timestamp`             String,
	`attr_container_runtime`                             String,
	`attr_browser_language`                              String,
	`attr_enduser_role`                                  String,
	`attr_container_command_line`                        String,
	`attr_cloud_platform`                                String,
	`attr_db_elasticsearch_cluster_name`                 String,
	`attr_db_user`                                       String,
	`attr_db_statement`                                  String,
	`attr_host_cpu_model_id`                             String,
	`attr_system_filesystem_mountpoint`                  String,
	`attr_webengine_name`                                String,
	`attr_messaging_operation`                           String,
	`attr_system_device`                                 String,
	`attr_tls_client_not_after`                          String,
	`attr_rpc_jsonrpc_error_message`                     String,
	`attr_exception_message`                             String,
	`attr_http_route`                                    String,
	`attr_host_cpu_vendor_id`                            String,
	-- end
	-- resource attributes
	`resource`                                           LowCardinality(String),
	`res_host_cpu_stepping`                              Int64,
	`res_messaging_message_body_size`                    Int64,
	`res_http_response_status_code`                      Int64,
	`res_messaging_kafka_destination_partition`          Int64,
	`res_message_uncompressed_size`                      Int64,
	`res_http_request_body_size`                         Int64,
	`res_db_cosmosdb_status_code`                        Int64,
	`res_http_response_body_size`                        Int64,
	`res_k8s_container_restart_count`                    Int64,
	`res_host_cpu_cache_l2_size`                         Int64,
	`res_messaging_message_envelope_size`                Int64,
	`res_process_pid`                                    Int64,
	`res_db_cosmosdb_request_content_length`             Int64,
	`res_message_compressed_size`                        Int64,
	`res_thread_id`                                      Int64,
	`res_messaging_rocketmq_message_delivery_timestamp`  Int64,
	`res_db_cassandra_speculative_execution_count`       Int64,
	`res_messaging_batch_message_count`                  Int64,
	`res_system_cpu_logical_number`                      Int64,
	`res_message_id`                                     Int64,
	`res_faas_max_memory`                                Int64,
	`res_messaging_kafka_message_offset`                 Int64,
	`res_db_cassandra_page_size`                         Int64,
	`res_code_column`                                    Int64,
	`res_http_request_resend_count`                      Int64,
	`res_messaging_rocketmq_message_delay_time_level`    Int64,
	`res_db_redis_database_index`                        Int64,
	`res_code_lineno`                                    Int64,
	`res_process_parent_pid`                             Int64,
	`res_db_cosmosdb_sub_status_code`                    Int64,
	`res_rpc_jsonrpc_error_code`                         Int64,
	`res_gcp_cloud_run_job_task_index`                   Int64,
	`res_webengine_version`                              String,
	`res_otel_scope_version`                             String,
	`res_process_executable_path`                        String,
	`res_faas_invoked_provider`                          String,
	`res_process_runtime_version`                        String,
	`res_system_processes_status`                        String,
	`res_log_file_path_resolved`                         String,
	`res_otel_scope_name`                                String,
	`res_peer_service`                                   String,
	`res_rpc_jsonrpc_version`                            String,
	`res_url_query`                                      String,
	`res_tls_server_hash_sha256`                         String,
	`res_user_agent_original`                            String,
	`res_db_operation`                                   String,
	`res_db_jdbc_driver_classname`                       String,
	`res_network_protocol_name`                          String,
	`res_aws_ecs_cluster_arn`                            String,
	`res_network_local_address`                          String,
	`res_k8s_statefulset_name`                           String,
	`res_service_name`                                   String,
	`res_browser_language`                               String,
	`res_faas_document_name`                             String,
	`res_network_carrier_name`                           String,
	`res_log_file_name_resolved`                         String,
	`res_container_name`                                 String,
	`res_code_stacktrace`                                String,
	`res_os_version`                                     String,
	`res_host_cpu_vendor_id`                             String,
	`res_tls_server_certificate`                         String,
	`res_rpc_system`                                     String,
	`res_session_previous_id`                            String,
	`res_code_filepath`                                  String,
	`res_process_runtime_name`                           String,
	`res_db_cosmosdb_container`                          String,
	`res_service_version`                                String,
	`res_cloud_availability_zone`                        String,
	`res_network_transport`                              String,
	`res_network_connection_subtype`                     String,
	`res_db_cosmosdb_operation_type`                     String,
	`res_cloudevents_event_spec_version`                 String,
	`res_messaging_message_conversation_id`              String,
	`res_tls_client_hash_sha256`                         String,
	`res_cloud_account_id`                               String,
	`res_k8s_job_name`                                   String,
	`res_os_build_id`                                    String,
	`res_db_user`                                        String,
	`res_faas_version`                                   String,
	`res_host_cpu_model_name`                            String,
	`res_browser_platform`                               String,
	`res_host_image_id`                                  String,
	`res_host_cpu_model_id`                              String,
	`res_url_full`                                       String,
	`res_rpc_jsonrpc_error_message`                      String,
	`res_process_command`                                String,
	`res_jvm_buffer_pool_name`                           String,
	`res_db_sql_table`                                   String,
	`res_messaging_destination_name`                     String,
	`res_system_filesystem_mountpoint`                   String,
	`res_system_cpu_state`                               String,
	`res_tls_server_subject`                             String,
	`res_log_file_name`                                  String,
	`res_system_filesystem_mode`                         String,
	`res_k8s_namespace_name`                             String,
	`res_messaging_gcp_pubsub_message_ordering_key`      String,
	`res_messaging_rocketmq_message_group`               String,
	`res_k8s_node_name`                                  String,
	`res_url_path`                                       String,
	`res_faas_invocation_id`                             String,
	`res_tls_client_hash_md5`                            String,
	`res_telemetry_distro_name`                          String,
	`res_db_cosmosdb_client_id`                          String,
	`res_faas_document_collection`                       String,
	`res_host_image_name`                                String,
	`res_tls_client_not_after`                           String,
	`res_code_function`                                  String,
	`res_gcp_gce_instance_name`                          String,
	`res_messaging_rabbitmq_destination_routing_key`     String,
	`res_process_executable_name`                        String,
	`res_android_os_api_level`                           String,
	`res_faas_cron`                                      String,
	`res_db_elasticsearch_node_name`                     String,
	`res_heroku_release_commit`                          String,
	`res_cloudevents_event_subject`                      String,
	`res_faas_invoked_region`                            String,
	`res_log_file_path`                                  String,
	`res_code_namespace`                                 String,
	`res_messaging_destination_publish_name`             String,
	`res_telemetry_sdk_version`                          String,
	`res_network_carrier_icc`                            String,
	`res_db_cassandra_coordinator_id`                    String,
	`res_db_elasticsearch_cluster_name`                  String,
	`res_network_carrier_mcc`                            String,
	`res_faas_instance`                                  String,
	`res_service_instance_id`                            String,
	`res_tls_protocol_name`                              String,
	`res_device_model_name`                              String,
	`res_deployment_environment`                         String,
	`res_telemetry_distro_version`                       String,
	`res_process_command_line`                           String,
	`res_gcp_cloud_run_job_execution`                    String,
	`res_tls_next_protocol`                              String,
	`res_tls_server_hash_sha1`                           String,
	`res_host_name`                                      String,
	`res_telemetry_sdk_language`                         String,
	`res_aws_ecs_task_family`                            String,
	`res_network_carrier_mnc`                            String,
	`res_host_type`                                      String,
	`res_service_namespace`                              String,
	`res_network_connection_type`                        String,
	`res_messaging_rocketmq_client_group`                String,
	`res_device_id`                                      String,
	`res_os_description`                                 String,
	`res_messaging_operation`                            String,
	`res_error_type`                                     String,
	`res_db_cassandra_table`                             String,
	`res_k8s_daemonset_name`                             String,
	`res_network_protocol_version`                       String,
	`res_db_system`                                      String,
	`res_k8s_cluster_name`                               String,
	`res_http_request_method_original`                   String,
	`res_gcp_gce_instance_hostname`                      String,
	`res_tls_cipher`                                     String,
	`res_exception_message`                              String,
	`res_feature_flag_variant`                           String,
	`res_os_name`                                        String,
	`res_tls_server_not_before`                          String,
	`res_container_image_name`                           String,
	`res_log_record_uid`                                 String,
	`res_faas_document_operation`                        String,
	`res_tls_protocol_version`                           String,
	`res_os_type`                                        String,
	`res_tls_client_certificate`                         String,
	`res_heroku_app_id`                                  String,
	`res_container_command_line`                         String,
	`res_system_memory_state`                            String,
	`res_rpc_service`                                    String,
	`res_tls_server_issuer`                              String,
	`res_cloudevents_event_id`                           String,
	`res_enduser_role`                                   String,
	`res_network_peer_address`                           String,
	`res_process_owner`                                  String,
	`res_tls_client_not_before`                          String,
	`res_db_connection_string`                           String,
	`res_k8s_pod_name`                                   String,
	`res_network_type`                                   String,
	`res_messaging_message_id`                           String,
	`res_db_statement`                                   String,
	`res_cloud_platform`                                 String,
	`res_host_id`                                        String,
	`res_enduser_id`                                     String,
	`res_db_cassandra_coordinator_dc`                    String,
	`res_pool_name`                                      String,
	`res_webengine_description`                          String,
	`res_messaging_kafka_consumer_group`                 String,
	`res_otel_status_description`                        String,
	`res_thread_name`                                    String,
	`res_tls_client_ja3`                                 String,
	`res_cloudevents_event_source`                       String,
	`res_aws_ecs_task_arn`                               String,
	`res_k8s_cronjob_name`                               String,
	`res_rpc_jsonrpc_request_id`                         String,
	`res_cloud_region`                                   String,
	`res_messaging_client_id`                            String,
	`res_exception_type`                                 String,
	`res_tls_server_not_after`                           String,
	`res_container_command`                              String,
	`res_client_address`                                 String,
	`res_tls_client_hash_sha1`                           String,
	`res_k8s_container_name`                             String,
	`res_destination_address`                            String,
	`res_k8s_replicaset_name`                            String,
	`res_device_model_identifier`                        String,
	`res_url_fragment`                                   String,
	`res_source_address`                                 String,
	`res_process_runtime_description`                    String,
	`res_exception_stacktrace`                           String,
	`res_device_manufacturer`                            String,
	`res_jvm_gc_name`                                    String,
	`res_system_filesystem_type`                         String,
	`res_tls_client_issuer`                              String,
	`res_tls_server_hash_md5`                            String,
	`res_messaging_destination_template`                 String,
	`res_cloud_provider`                                 String,
	`res_http_request_method`                            String,
	`res_server_address`                                 String,
	`res_host_cpu_family`                                String,
	`res_db_instance_id`                                 String,
	`res_webengine_name`                                 String,
	`res_aws_lambda_invoked_arn`                         String,
	`res_tls_server_ja3s`                                String,
	`res_container_id`                                   String,
	`res_aws_ecs_container_arn`                          String,
	`res_aws_ecs_task_revision`                          String,
	`res_enduser_scope`                                  String,
	`res_messaging_system`                               String,
	`res_feature_flag_key`                               String,
	`res_cloud_resource_id`                              String,
	`res_event_name`                                     String,
	`res_messaging_rocketmq_namespace`                   String,
	`res_faas_name`                                      String,
	`res_telemetry_sdk_name`                             String,
	`res_db_name`                                        String,
	`res_tls_client_subject`                             String,
	`res_tls_client_server_name`                         String,
	`res_k8s_deployment_name`                            String,
	`res_container_runtime`                              String,
	`res_messaging_kafka_message_key`                    String,
	`res_heroku_release_creation_timestamp`              String,
	`res_rpc_method`                                     String,
	`res_aws_eks_cluster_arn`                            String,
	`res_host_arch`                                      String,
	`res_db_mssql_instance_name`                         String,
	`res_oci_manifest_digest`                            String,
	`res_url_scheme`                                     String,
	`res_tls_curve`                                      String,
	`res_host_image_version`                             String,
	`res_feature_flag_provider_name`                     String,
	`res_faas_invoked_name`                              String,
	`res_jvm_gc_action`                                  String,
	`res_db_mongodb_collection`                          String,
	`res_jvm_memory_pool_name`                           String,
	`res_messaging_rocketmq_message_tag`                 String,
	`res_http_route`                                     String,
	`res_container_image_id`                             String,
	`res_cloudevents_event_type`                         String,
	`res_system_device`                                  String,
	`res_session_id`                                     String,
	-- end
	-- scope attributes
	`scope`                                              LowCardinality(String),
	-- end
)
ENGINE = MergeTree
PARTITION BY toYYYYMMDD(timestamp)
ORDER BY (`name_normalized`, `resource`, `attribute`, `timestamp`)
