-- Create "organizations" table
CREATE TABLE "organizations" ("id" bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY, "name" character varying NOT NULL, "html_url" character varying NULL, PRIMARY KEY ("id"));
-- Create "repositories" table
CREATE TABLE "repositories" ("id" bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY, "name" character varying NOT NULL, "full_name" character varying NOT NULL, "html_url" character varying NULL, "description" character varying NOT NULL DEFAULT '', "last_pushed_at" timestamptz NULL, "last_event_at" timestamptz NULL, "organization_repositories" bigint NULL, PRIMARY KEY ("id"), CONSTRAINT "repositories_organizations_repositories" FOREIGN KEY ("organization_repositories") REFERENCES "organizations" ("id") ON UPDATE NO ACTION ON DELETE SET NULL);
-- Create index "repositories_full_name_key" to table: "repositories"
CREATE UNIQUE INDEX "repositories_full_name_key" ON "repositories" ("full_name");
-- Create "git_commits" table
CREATE TABLE "git_commits" ("sha" character varying NOT NULL, "message" character varying NOT NULL, "author_login" character varying NOT NULL, "author_id" bigint NOT NULL, "date" timestamptz NOT NULL, "repository_commits" bigint NULL, PRIMARY KEY ("sha"), CONSTRAINT "git_commits_repositories_commits" FOREIGN KEY ("repository_commits") REFERENCES "repositories" ("id") ON UPDATE NO ACTION ON DELETE SET NULL);
